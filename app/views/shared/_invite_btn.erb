<div class="dropdown " style="min-width: 50%">
  <div class="dropdown-trigger">
    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu2">
      <span>Invite volunteers</span>
      <span class="icon is-small">
        <i class="fas fa-user-plus" aria-hidden="true"></i>
      </span>
    </button>
  </div>

  <div class="dropdown-menu" id="dropdown-menu2" role="menu">
    <div class="dropdown-content">
      <div class="dropdown-item">
        <p>Share this link so volunteers can record ballot counts</p>
        <div class="field has-addons">
          <p class="control is-fullwidth is-block is-flex">
            <input
              id="workspace_url"
              class="input is-block is-flex is-expanded"
              readonly
              type="text"
              value="<%= start_work_space_turnout_observations_url(@work_space) %>"
            >
          </p>
          <p class="control">
            <script type="application/javascript">

            </script>
            <a class="button copy-btn">
              Copy
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="application/javascript">
  (function () {
    let dropdown = document.querySelector('.dropdown');
    dropdown.addEventListener('click', function(event) {
      event.stopPropagation();
      dropdown.classList.toggle('is-active');
    });


    function copyWorkspaceUrl() {
      let copyText = document.getElementById("workspace_url");
      copyText.select();
      document.execCommand("copy");
    }

    document.querySelector('.copy-btn')
      .addEventListener('click',copyWorkspaceUrl);
  })();
</script>
